---
layout: page

category: "Modules"
title:  "Lootables"

---



<p>Lootables are chests or other containers that generate their contents based on custom rules and probabilities.
        They can optionally refill themselves on a schedule, or in response to dynamic filters.</p>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th>Lootables Element</th>
<th>Description</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<span class="highlight">
<code>&lt;lootables&gt; &lt;/lootables&gt;</code>
</span>
</td>
<td></td>
<td></td>
</tr>
<tr>
<th colspan="2">Sub-elements</th>
<th>Value/Children</th>
</tr>
<tr>
<td>
<span class="highlight">
<code>&lt;loot&gt;</code>
</span>
</td>
<td>
<a class="left-ref-link" href="#loot"><i class="fa fa-chevron-down"></i></a>
                  A generated set of items
                </td>
<td>
<span class="label label-default">Loot Sub-elements</span>
</td>
</tr>
<tr>
<td>
<span class="highlight">
<code>&lt;fill&gt;</code>
</span>
</td>
<td>
<a class="left-ref-link" href="#posts"><i class="fa fa-chevron-down"></i></a>
                  Configuration for filling containers with loot
                </td>
<td>
<span class="label label-default">Fill Sub-elements</span>
</td>
</tr>
</tbody>
</table>
</div>
<h3><span id="loot">Loot</span></h3>
<p>The <code>&lt;loot&gt;</code> element defines a generated set of items, using literal <code>&lt;item&gt;</code> elements,
        and operations for choosing them.</p>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th>Loot Element</th>
<th>Description</th>
<th>Value/Children</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<span class="highlight">
<code>&lt;loot&gt;</code>
</span>
</td>
<td>
                  A generated set of items
                </td>
<td>
<span class="label label-default">Loot Sub-elements</span>
</td>
</tr>
</tbody>
</table>
</div>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th>Loot Attributes</th>
<th>Description</th>
<th>Value</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>id</code>
</td>
<td>
                  Unique identifier used to reference this loot elsewhere
                </td>
<td>
<span class="label label-primary">String</span>
</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th>Loot Sub-elements</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<span class="highlight">
<code>&lt;item&gt;</code>
</span>
</td>
<td>
                  An item to include in the loot.
                  This can be any type of item element, and can have any item attributes.
                </td>
<td>
<a href="/modules/items">Item</a>
</td>
</tr>
<tr>
<td>
<span class="highlight">
<code>&lt;any&gt;</code>
</span>
</td>
<td>
<a class="left-ref-link" href="#any"><i class="fa fa-chevron-down"></i></a>
                  Random selection of children
                </td>
<td></td>
</tr>
<tr>
<td>
<span class="highlight">
<code>&lt;maybe&gt;</code>
</span>
</td>
<td>
<a class="left-ref-link" href="#maybe"><i class="fa fa-chevron-down"></i></a>
                  Include child conditionally based on a filter
                </td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h4><span id="any">Random Selection</span></h4>
<p>The <code>&lt;any&gt;</code> element makes a random selection from any number of child elements.
        Its children can be <code>&lt;option&gt;</code> elements, or any other <code>&lt;loot&gt;</code> sub-element.</p>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th style="min-width: 150px;">Any Attributes</th>
<th>Description</th>
<th>Value</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>count</code>
</td>
<td>Number of child elements to choose</td>
<td>
<span class="label label-primary">Numeric Range</span>
</td>
<td></td>
</tr>
<tr>
<td>
<code>unique</code>
</td>
<td>
<code>true</code> if each child can only be chosen once.<br/>
<code>false</code> to allow a child to be chosen multiple times.
                </td>
<td>
<span class="label label-primary">true/false</span>
</td>
<td>
                  true
                </td>
</tr>
</tbody>
</table>
</div>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th>Any Sub-elements</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<span class="highlight">
<code>&lt;option&gt;</code>
</span>
</td>
<td>
                  A single option for the random selection
                </td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th style="min-width: 150px;">Option Attributes</th>
<th>Description</th>
<th>Value</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>weight</code>
</td>
<td>Weight of this option relative to all others</td>
<td>
<span class="label label-primary">Number</span>
</td>
<td>1</td>
</tr>
<tr>
<td>
<code>filter</code>
</td>
<td>
                  Filter used to decide the eligibility of this option
                </td>
<td>
<span class="label label-primary">Filter</span>
</td>
<td>
<code>always</code>
</td>
</tr>
</tbody>
</table>
</div>
<h4><span id="maybe">Conditional Inclusion</span></h4>
<p>The <code>&lt;maybe&gt;</code> element includes its child elements only if the specified filter matches.
        The filter is matched against the first player to access the loot.</p>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th style="min-width: 150px;">Maybe Attributes</th>
<th>Description</th>
<th>Value</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>filter</code>
</td>
<td>Filter used to decide inclusion of children</td>
<td>
<a href="/modules/filters">Filter</a>
</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><br/></p>
<h3><span id="fill">Fill</span></h3>
<p>The <code>&lt;fill&gt;</code> element fills containers with generated loot.
        It will fill <strong>anything</strong> that has an inventory, and matches its <code>filter</code> property.
        This can include chests, dispensers, storage minecarts, or any other container block or entity.
        It will fill containers regardless of where they came from, so if you don't want player-placed
        chests to be filled, then you will have to prevent that somehow.</p>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th>Fill Element</th>
<th>Description</th>
<th>Value/Children</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<span class="highlight">
<code>&lt;fill&gt;</code>
</span>
</td>
<td>
                  Automatically fills containers with loot
                </td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="table-responsive">
<table class="table table-striped table-condensed">
<thead>
<tr>
<th>Fill Attributes</th>
<th>Description</th>
<th>Value</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>loot</code>
</td>
<td>
                  Loot to fill containers with
                </td>
<td>
<span class="label label-primary">Loot</span>
</td>
<td></td>
</tr>
<tr>
<td>
<code>filter</code>
</td>
<td>
                  Selects which blocks/entities to fill
                </td>
<td>
<span class="label label-primary">Filter</span>
</td>
<td>
<code>always</code>
</td>
</tr>
<tr>
<td>
<code>refill-trigger</code>
</td>
<td>
                  Optional dynamic filter that causes containers to be refilled
                </td>
<td>
<span class="label label-primary">Dynamic Filter</span>
</td>
<td></td>
</tr>
<tr>
<td>
<code>refill-interval</code>
</td>
<td>
                  Time to refill containers after they are first accessed
                </td>
<td>
<span class="label label-primary">Time Period</span>
</td>
<td>
                  oo (never)
                </td>
</tr>
<tr>
<td>
<code>refill-clear</code>
</td>
<td>
                  Whether to clear containers before refilling them
                </td>
<td>
<span class="label label-primary">true/false</span>
</td>
<td>
                  true
                </td>
</tr>
</tbody>
</table>
</div>
<h3>Examples</h3>
<pre><code>&lt;lootables&gt;
    &lt;!-- Define a procedural list of loot --&gt;
    &lt;!-- Can be different every time it is used --&gt;
    &lt;!-- All operators can be composed within each other --&gt;
    &lt;loot id="stuff"&gt;
        &lt;!-- Always include these items --&gt;
        &lt;item material="stone sword"/&gt;
        &lt;item material="bow"/&gt;

        &lt;!-- Include if filter matches opener of the container --&gt;
        &lt;maybe filter="red-team"&gt;
            &lt;item material="stained clay" damage="14" amount="64"/&gt;
            &lt;item material="leather helmet" color="#f00"/&gt;
        &lt;/maybe&gt;

        &lt;!-- Choose one element at random --&gt;
        &lt;any&gt;
            &lt;item material="stone" damage="1"/&gt;
            &lt;item material="stone" damage="2"/&gt;
            &lt;item material="stone" damage="3"/&gt;
        &lt;/any&gt;

        &lt;!-- Weighted choice --&gt;
        &lt;any&gt;
            &lt;option weight="5"&gt;
                &lt;item material="cookie"/&gt;
            &lt;/option&gt;
            &lt;option weight="3"&gt;
                &lt;item material="bread"/&gt;
            &lt;/option&gt;
            &lt;option weight="1"&gt;
                &lt;item material="golden apple"/&gt;
            &lt;/option&gt;
        &lt;/any&gt;

        &lt;!-- Choose any two unique elements (unique="false" to allow duplicates) --&gt;
        &lt;any count="2"&gt;
            ...
        &lt;/any&gt;

        &lt;!-- Choose between 3 and 5 unique elements --&gt;
        &lt;any count="3..5"&gt;
            ...
        &lt;/any&gt;
    &lt;/loot&gt;

    &lt;!-- Define inventories to refill --&gt;
    &lt;!-- Filling always happens when a player opens the inventory --&gt;
    &lt;!-- Any block or entity that has an inventory (and matches the filter) will be filled --&gt;
    &lt;fill loot="stuff"          &lt;!-- Loot to fill inventory with --&gt;
          filter="chests"       &lt;!-- Inventories to fill (blocks or entities) --&gt;
          refill-interval="3s"  &lt;!-- Minimum interval between refills (default +inf) --&gt;
          refill-trigger="..."  &lt;!-- Dynamic filter to trigger refill (default none) --&gt;
          refill-clear="true"   &lt;!-- Clear inventory before refilling (default true) --&gt;
    /&gt;
&lt;/lootables&gt;
</code></pre>

